========================================================================================================================
基础
========================================================================================================================



========================================================================================================================
数据库
========================================================================================================================



------------------------------------------------------------------------------------------------------------------------
NoSQL
------------------------------------------------------------------------------------------------------------------------
之前单表热点数据接近亿级，查询时间达到了8秒左右

    后来进行了分表，按照ID取模分了一百张表，历史数据取模插入到分表中
    新建了一张表用来保存全局唯一ID，每次新建热点都会更新全局唯一ID，保证分表之后ID唯一性

    查询使用es
    GitHub上找了一个开源的MySQL数据同步到es的工具，模拟的从库，保证了数据同步的实时性

    热点数据查询性能降低到了1秒内
    性能得到很大提升

------------------------------------------------------------------------------------------------------------------------
业务中有个模块写极多读少，这种情况下是不是直接把这个数据拆分出来用单独nosql存储比较好？还是先写到nosql，再慢写到mysql好？
如果慢写到mysql
一是可能会出现数据不一致问题，
二是写请求会积累很多，内存型nosql支撑不住，可能要用leveldb之类的，磁盘多了一份数据，等要迁移的时候又增加了运维管理成本

    如果是长期都是写多读少，那么可以考虑nosql
    如果是瞬时峰值的话，还是用消息队列削峰填谷


------------------------------------------------------------------------------------------------------------------------
