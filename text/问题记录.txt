1ã€æ¶ˆæ¯ç¨³å®šæ€§é—®é¢˜ï¼ˆä¸‰æ–¹æ¶ˆæ¯ä¸­é—´ä»¶ä¸å¯é ã€å´©æºƒé—®é¢˜ï¼‰

    å…¶å®ï¼Œå°±æ˜¯å¯¹æ¶ˆæ¯åšæŒä¹…åŒ–å¤‡ä»½                                      // æ¶ˆæ¯ä¸­é—´ä»¶ä¸€èˆ¬éƒ½æœ‰è¿™ç§èƒ½åŠ›å“ˆğŸ¤£
    æœ¬åœ°åšæ¶ˆæ¯æ—¥å¿—ï¼Œå´©æºƒé‡å¯è¯»å–logèƒ½æ¢å¤ï¼ˆå€Ÿé‰´innoDBçš„redo logï¼‰

    è‡ªå·±åšçš„è¯ï¼Œ
    å¯ä»¥å­˜ä¸€ä»½åœ¨å†…å­˜(é˜Ÿåˆ—)ä¸­ï¼Œå¼€å¯å¼‚æ­¥çº¿ç¨‹åˆ·åˆ°Redisã€DBã€æ–‡ä»¶ä¸­ï¼Œä½œä¸ºå¤‡ä»½log.
    å¦‚æœé‡åˆ°å´©æºƒï¼Œè¯»å–æœ¬åœ°å¤‡ä»½logæ¢å¤.


2ã€æ¶ˆæ¯é‡å¤æ¶ˆè´¹é—®é¢˜
    ç»™æ¯ä¸ªæ¶ˆæ¯ä¸€ä¸ªå”¯ä¸€IDï¼ˆä¸€èˆ¬ä¸ºå…·ä½“ä¸šåŠ¡çš„å”¯ä¸€IDï¼Œå¦‚ï¼šè®¢å•å·order_idï¼‰
    æ¯æ¬¡æ¶ˆè´¹å‰ï¼Œcheckä¸€ä¸‹msg_idæ˜¯å¦å·²æ¶ˆè´¹è¿‡ï¼Œæ˜¯åˆ™ç›´æ¥ä¸¢å¼ƒ.


3ã€æ¶ˆæ¯ä¸­é—´ä»¶æœ‰qpsé™åˆ¶ï¼Œä¸”è¿œå°äºæˆ‘ä»¬ä¸šåŠ¡æµé‡ï¼ˆä¸šåŠ¡æµé‡_qps_2000 > mq_qps_1000ï¼‰

    1ã€æœ€ç®€å•çš„ï¼Œå½“ç„¶æ˜¯çœ‹èƒ½å¦ç›´æ¥æå‡ä¸­é—´ä»¶çš„æ€§èƒ½ï¼Œæ¥æé«˜qpsé™åˆ¶      // ç®€å•ç²—æš´ï¼ŒåŠ é’±å †æœºå™¨...  æœ‰é’±äººæ€§ï¼Œé€‚åˆåœŸè±ªç©å®¶

    2ã€æœ¬åœ°å‰Šå³°ï¼Œæœ¬åœ°ç»´æŠ¤ä¸€ä¸ªä¸€çº§é˜Ÿåˆ—åšæµé‡ç¼“å†²ï¼Œæ¶ˆæ¯å…ˆå…¥æœ¬åœ°é˜Ÿåˆ—ï¼Œç„¶åå†å¼€å¯ä¸€ä¸ªçº¿ç¨‹ï¼Œä»æœ¬åœ°å†…å­˜å¼‚æ­¥åˆ·åˆ°MQä¸­.

        å½“ç„¶ï¼Œé‡è¦ä¸šåŠ¡ï¼Œè€ƒè™‘è‡ªèº«ç³»ç»Ÿä¹Ÿä¼šå´©æºƒçš„è¯ï¼ŒåŒæ ·éœ€è¦åšæ¶ˆæ¯çš„æŒä¹…åŒ–å¤‡ä»½äº†.

    3ã€æµé‡å‰ç½®æ‹¦æˆªï¼Œç½‘å…³å±‚åšé™æµï¼Œä»æºå¤´æˆªæ–­.


4ã€ä»€ä¹ˆæ—¶å€™ï¼Œä¼šè€ƒè™‘å¼€å§‹ä¼˜åŒ–æ€§èƒ½

    1ã€ä¸ç®¡ä»€ä¹ˆæ—¶å€™ï¼Œé¦–è¦çš„ï¼Œå¿…é¡»ä¼˜å…ˆä¿è¯ä¸šåŠ¡çš„æ­£ç¡®æ€§ã€‚
        è‡³äºä¼˜åŒ–ï¼Œä¸èƒ½ä¸ºäº†ä¼˜åŒ–è€Œä¼˜åŒ–ã€‚
        ä¸èƒ½ä¸šåŠ¡éƒ½è¿˜æ²¡å¼€å§‹ç”¨ï¼Œå°±è€ƒè™‘è¦ä¼˜åŒ–äº†ï¼Œé‚£åªèƒ½è¯´æ˜¯ä¸€å¼€å§‹è®¾è®¡çš„å°±ä¸åˆç†ï¼Œæ²¡ç†è§£éœ€æ±‚ï¼Œæˆ–éœ€æ±‚å˜åŒ–è¿‡å¤§...

    2ã€æœ€å¥½çš„æ–¹å¼ï¼Œä¾ç„¶æ˜¯æŠŠé—®é¢˜æ§åˆ¶åœ¨æºå¤´

        å…·ä½“çš„ï¼Œå¦‚æœæ˜¯SQLæŸ¥è¯¢å˜æ…¢çš„è¯ï¼Œ
        å‰æœŸè¡¨ç»“æ„ä¸€å®šè¦è®¾è®¡çš„åˆç†ï¼Œè¡¨è®¾è®¡çƒ‚äº†ï¼ŒåæœŸå†æ€ä¹ˆä¼˜åŒ–éƒ½å¾ˆéš¾æ...
        æŸ¥è¯¢ä¼˜åŒ–çš„ç‚¹ï¼šjoinçš„è¡¨è¦å°½é‡çš„å°‘ã€è¿”å›çš„å­—æ®µå°½é‡çš„å°‘ã€whereçš„æ¡ä»¶å°½é‡çš„å°‘ã€æ’åºå­—æ®µå°½é‡çš„å°‘ã€å°½é‡ä½¿ç”¨é»˜è®¤æ’åºã€å»ºç«‹æ­£ç¡®çš„ç´¢å¼•...


    3ã€ä¸Šçº¿å‰çš„å‹æµ‹ï¼Œæ ¹æ®ä¸šåŠ¡æ–¹çš„ä½¿ç”¨åœºæ™¯å’Œæ€§èƒ½è¦æ±‚ï¼Œæå‰åšæ•°æ®çš„é¢„ä¼°ä¸å‹æµ‹.

    4ã€æµé‡ä¿æŠ¤ï¼Œé¢„è­¦å’Œæ‹¦æˆª


5ã€æ•°æ®åº“è¡¨è®¾è®¡è§„èŒƒ

    1ã€ä¸‰å¤§èŒƒå¼...

    2ã€butï¼Œå¤–é”®çº¦æŸè¿™ä¸ªåœ¨ç°ä»£åŒ–å¤§æ•°æ®é‡çš„åœºæ™¯ä¸‹ï¼Œä¸€èˆ¬æ˜¯ä¸è®¾ç½®å¤–é”®çº¦æŸçš„ï¼Œéƒ½æ˜¯åœ¨ä¸šåŠ¡å±‚ä¿è¯æ•°æ®çš„å…³è”å…³ç³».
        ç”¨innoDBçš„äº‹åŠ¡ï¼Œæ¥ä¿è¯æ•°æ®çš„æ­£ç¡®æ€§.

    3ã€æ ¹æ®ä¸šåŠ¡å®ä½“ï¼Œæ¥åˆ›å»ºè¡¨

    4ã€å…³è”å…³ç³»ç”¨è¢«å…³è”è¡¨çš„ä¸»é”®idè¡¨ç¤º

    ...


6ã€ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜

    ç¼“å­˜æ•°æ®ï¼Œåªä¿è¯æœ€ç»ˆä¸€è‡´æ€§ã€‚
    æŠŠæ•°æ®æ”¾åˆ°ç¼“å­˜é‡Œï¼Œå°±é»˜è®¤äº†ä¼šå­˜åœ¨æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜.

    æ²¡æœ‰ç»å¯¹å®Œç¾çš„æ–¹æ¡ˆï¼Œéƒ½æ˜¯æ ¹æ®åˆ©å¼Šåšå–èˆï¼Œæ¥æ‰¾ä¸€ä¸ªæœ€ä¼˜è§£.
    è§£å†³ä¸€ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œä¸€å®šä¼šå¸¦æ¥æ–°çš„é—®é¢˜.

    æƒ³ä¿è¯å‡†ç¡®æ€§ï¼Œå°±ä¸€å®šä¼šç‰ºç‰²æ€§èƒ½ï¼›
    è¦ä¿è¯é«˜æ€§èƒ½ï¼Œå°±ä¸€å®šä¼šç‰ºç‰²å‡†ç¡®æ€§.
    è¦ä¿è¯æ•°æ®çš„ç™¾åˆ†ç™¾å‡†å¤‡ï¼Œé‚£å°±åªèƒ½ç”¨å…³ç³»å‹æ•°æ®åº“ï¼ŒMySQLã€Oracle...

    è¯´ç™½äº†ï¼Œè¿™å°±æ˜¯ä¸¤ä¸ªç³»ç»Ÿä¹‹é—´çš„æ•°æ®åŒæ­¥é—®é¢˜.


    TODO æ— éæ˜¯æ€ä¹ˆä¿è¯ç¼“å­˜æ•°æ®æ›´æ–°çš„ä¸€ä¸ªé—®é¢˜



7ã€å…³äºå¼‚å¸¸å®•æœºï¼ˆæ–­ç”µã€ç³»ç»Ÿå¼‚å¸¸ã€å†…å­˜æº¢å‡º...ï¼‰çš„ä¿é™©æªæ–½

    å…¶å®ï¼Œä¸€èˆ¬ä¹Ÿå°±æ˜¯ å®šæœŸï¼ˆå¦‚ï¼šæ¯åŠå°æ—¶ï¼‰çš„æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œç³»ç»Ÿå¼‚å¸¸é‡å¯åï¼Œä»ç£ç›˜è¯»å–æœ€è¿‘çš„å¤‡ä»½æ•°æ®åˆ°å†…å­˜ï¼Œæœ€å¤šä¹Ÿå°±ä¸¢å¤±å°éƒ¨åˆ†ï¼ˆå¦‚ï¼šåŠå°æ—¶ï¼‰æ•°æ®.


8ã€æ¥å£çš„æ ¼å¼

    1ã€Dubbo è¿™æ ·çš„ RPC æ¥å£
    2ã€Spring Cloud è¿™æ ·çš„ HTTP æ¥å£


9ã€BeanUtils.copyProperties

    org.springframework.beans

        BeanUtils.copyProperties(source, target);

        // æµ…æ‹·è´                  - source ä¸­åŒ…å« å¼•ç”¨å¯¹è±¡ çš„ æ…ç”¨ï¼ï¼ï¼

            åŸºæœ¬ç±»å‹ -> å€¼æ‹·è´

            å¼•ç”¨ç±»å‹ -> åœ°å€å€¼æ‹·è´


    org.apache.commons.beanutils.BeanUtils

        BeanUtils.copyProperties(target, source);

        // æµ…æ‹·è´          åŒä¸Š

            ä¸” Dateã€BigDecimal è½¬æ¢å¼‚å¸¸




10ã€whatï¼ˆæ˜¯ä»€ä¹ˆï¼‰ã€whyï¼ˆä¸ºä»€ä¹ˆï¼‰ã€howï¼ˆæ€ä¹ˆåŠï¼‰ã€whereï¼ˆåº”ç”¨åœºæ™¯ï¼‰

